<template>
    <lightning-card>
        <div class="slds-grid slds-wrap">
            <div class="slds-col slds-size_5-of-8">
                <div class="slds-grid slds-wrap">
                    <template if:true={isClauseTemplate}>
                        <div class="slds-col slds-size_1-of-2 custom2">
                            <h4><b>Generate Document</b></h4>
                            <section class="slds-m-around_small">
                                <h2><b>Select Contract Template</b></h2>
                                <lightning-combobox name="New" label="New Template" value={selectedTemplate}
                                    variant="label-hidden" placeholder="Select Template" options={newoptions}
                                    onchange={handleNewTemplateChange} style=" width: 250px;  padding-left: 5px; padding-top: 5px;">
                                </lightning-combobox>
                            </section>
                            <section class="slds-m-around_small">
                                <h2><b>Select Clause Inclusion</b></h2>

                                <lightning-combobox name="New" label="New Clause" value={selectedClauses}
                                    variant="label-hidden" placeholder="Select Clauses" options={clauseOptions}
                                    onchange={handleClauseChange} style=" width: 250px;  padding-left: 5px; padding-top: 5px;">
                                </lightning-combobox>

                                <div class="slds-p-around_xx-small">
                                    <template for:each={allClausesValues} for:item="val">
                                        <lightning-pill key={val.value} name={val.value} label={val.label}
                                            onremove={handleRemove}>
                                            <lightning-icon icon-name='standard:article' alternative-text='article'>
                                            </lightning-icon>
                                        </lightning-pill>
                                    </template>
                                </div>

                            </section>
                        </div>
                    </template>
                    <template if:true={isSignature}>
                        <div class="slds-col slds-size_1-of-2 custom">
                            <h3><b>Signatory</b></h3>
                            <div class=" column-design">
                                <b>Authorized Signer:</b>
                                <div class="slds-pill_container">
                                    <ul class="slds-listbox slds-listbox_horizontal" aria-label="Selected Options:"
                                        aria-describedby="listbox-pill-with-icon">
                                        <li class="slds-listbox-item">
                                            <span class="slds-pill">
                                        <span class="slds-icon_container slds-icon-standard-user slds-pill__icon_container" title="Signatory">
                                            <svg class="slds-icon" aria-hidden="true">
                                                <use xlink:href="/assets/icons/standard-sprite/svg/symbols.svg#user"></use>
                                            </svg>
                                            <span class="slds-assistive-text">Roger Federer</span>
                                            </span>
                                            <span class="slds-pill__label" title="Full pill label verbiage mirrored here">Roger Federer</span>
                                            <span class="slds-icon_container slds-pill__remove" title="Remove">
                                                <button class="slds-button slds-button_icon slds-button_icon slds-pill__remove" title="Remove">
                                                    <svg class="slds-button__icon" aria-hidden="true">
                                                        <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#close"></use>
                                                    </svg>
                                                    <span class="slds-assistive-text">Remove</span>
                                            </button>
                                            </span>
                                            </span>
                                        </li>
                                    </ul>
                                </div>
                                <br/>
                                <br/>
                                <b> Signatory:</b>
                                <div class="multisearch">
                                    <lightning-combobox name="New" label="New Signatory" value={selectedSignatorys}
                                        variant="label-hidden" placeholder="Select Signatory.."
                                        options={signatoryOptions} onchange={handleSignatoryChange}
                                        style=" width: 250px; padding-left: 5px; padding-top: 5px;"></lightning-combobox>

                                    <div class="slds-p-around_xx-small">
                                        <template for:each={allSignatoryValues} for:item="val">
                                            <lightning-pill key={val.value} name={val.value} label={val.label}
                                                onremove={handleSignatoryRemove}>
                                                <lightning-icon icon-name="standard:avatar" alternative-text="Account">
                                                </lightning-icon>
                                            </lightning-pill>
                                        </template>
                                    </div>
                                </div>
                                <br/>
                                <div class="slds-grid slds-wrap">
                                    <div class="slds-col slds-size_1-of-3" style="padding-top:1.5rem;">
                                        <lightning-button label="Preview Output" variant="brand" onclick={handlePreview}
                                            class="slds-m-left_xx-small">
                                        </lightning-button>
                                    </div>
                                    <div class="slds-col slds-size_2-of-3">
                                        <lightning-file-upload label="Select Brochure" name="fileUploader"
                                            accept={acceptedFormats} multiple>
                                        </lightning-file-upload>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </template>
                </div>
            </div>
            <div class="slds-col slds-size_3-of-8 button">
                <button class="custom-button" onclick={handleSave}>Save and Exit</button>
                <template for:each={buttondata} for:item="b">
                    <template if:false={b.Hide_Button__c}>
                        <lightning-button label={b.Button_Label__c} alternative-text={b.Button_Label__c}
                            title={b.Button_Label__c} key={b.Button_Label__c} onclick={handleButtonActions}
                            variant="Brand" class="slds-p-left_x-small slds-float_right ">
                        </lightning-button>
                        <!-- &ensp; -->
                    </template>
                </template>
            </div>
        </div>
    </lightning-card>
</template>